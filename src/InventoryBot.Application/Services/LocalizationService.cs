namespace InventoryBot.Application.Services;

public class LocalizationService
{
    private static readonly Dictionary<string, Dictionary<string, string>> _resources = new()
    {
        ["uz"] = new()
        {
            ["Welcome"] = "Xush kelibsiz! Iltimos, tilni tanlang:",
            ["LanguageSelected"] = "Til tanlandi: O'zbekcha",
            ["WaitAdmin"] = "Admin sizga rol berishini kuting.",
            ["WelcomeBack"] = "Xush kelibsiz, {0}. Panel uchun /admin deb yozing.",
            ["PasswordSet"] = "Parol o'rnatildi. Siz endi Asosiy Adminsiz. Kirish uchun /admin deb yozing.",
            ["EnterPassword"] = "Tizim ishga tushmagan. Yangi Admin parolini kiriting:",
            ["EnterExistingPassword"] = "Sizda Admin Panelga kirish huquqing yo'q. Admin parolini kiriting:",
            ["AccessDenied"] = "Sizda Admin Panelga kirish huquqi yo'q.",
            ["NoPending"] = "Tasdiqlashni kutayotganlar yo'q.",
            ["SelectUser"] = "Foydalanuvchini tanlang:",
            ["SelectRole"] = "Foydalanuvchi ID {0} uchun rol tanlang:",
            ["RoleUpdated"] = "Foydalanuvchi roli {0} ga o'zgardi.",
            ["YourRoleUpdated"] = "Sizning rolingiz o'zgardi: {0}",
            ["ChangePass"] = "Yangi parolni kiriting:",
            ["PassChanged"] = "Parol muvaffaqiyatli o'zgartirildi.",
            ["Action_Deputy"] = "O'rinbosar qilish",
            ["Action_Storekeeper"] = "Omborchi qilish",
            ["Action_Admin"] = "Admin qilish",
            ["Btn_Notifications"] = "Kutayotganlar ({0})",
            ["Btn_ChangePass"] = "Parolni o'zgartirish",
            ["Btn_AddWarehouse"] = "Ombor qo'shish",
            ["Btn_WarehouseList"] = "Omborlar ro'yxati",
            ["Btn_AddCustomer"] = "Xaridor qo'shish",
            ["Btn_CustomerList"] = "Xaridorlar ro'yxati",
            ["EnterWarehouseName"] = "Ombor nomini kiriting:",
            ["WarehouseAdded"] = "Ombor muvaffaqiyatli qo'shildi: {0}",
            ["WarehouseDuplicate"] = "‚ùå Bu nomdagi ombor allaqachon mavjud: {0}",
            ["WarehouseListTitle"] = "üì¶ Omborlar ro'yxati:",
            ["EnterCustomerName"] = "Xaridor nomini kiriting:",
            ["CustomerAdded"] = "Xaridor muvaffaqiyatli qo'shildi: {0}",
            ["CustomerDuplicate"] = "‚ùå Bu nomdagi xaridor allaqachon mavjud: {0}",
            ["CustomerListTitle"] = "üë• Xaridorlar ro'yxati:",
            ["SelectWarehouse"] = "Foydalanuvchini qaysi omborga biriktirasiz?",
            ["UserAssignedToWarehouse"] = "Foydalanuvchi {0} omboriga biriktirildi.",
            ["NoWarehouses"] = "Hozircha omborlar yo'q. Avval ombor qo'shing.",
            ["NoCustomers"] = "Hozircha xaridorlar yo'q. Avval xaridor qo'shing.",
            ["Menu_Warehouses"] = "üì¶ Omborlar",
            ["Menu_Customers"] = "üë• Xaridorlar",
            ["Btn_Add"] = "Qo'shish",
            ["Btn_List"] = "Ro'yxat",
            ["Btn_Back"] = "üîô Ortga",
            ["Title_ManageWarehouses"] = "Omborlar boshqaruvi:",
            ["Title_ManageCustomers"] = "Xaridorlar boshqaruvi:",
            ["EnterOldPassword"] = "üîí Iltimos, avval eski parolni kiriting:",
            ["OldPasswordIncorrect"] = "‚ùå Eski parol noto'g'ri!",
            ["NewPasswordSameAsOld"] = "‚ùå Yangi parol eski parol bilan bir xil bo'lishi mumkin emas!",
            ["NewPasswordSameAsOld"] = "‚ùå Yangi parol eski parol bilan bir xil bo'lishi mumkin emas!",
            ["Btn_Close"] = "‚ùå Yopish",
            // Storekeeper
            ["WarehouseTitle"] = "üè† Ombor: {0}",
            ["Btn_AddProduct"] = "‚ûï Mahsulot qo'shish",
            ["EnterProductName"] = "üìù Mahsulot nomini kiriting:",
            ["SelectUnit"] = "‚öñÔ∏è O'lchov birligini tanlang:",
            ["Unit_Kg"] = "Kg",
            ["Unit_Ton"] = "Tonna",
            ["Unit_Meter"] = "Metr",
            ["Unit_Piece"] = "Dona",
            ["Unit_Liter"] = "Litr",
            ["ProductSaved"] = "‚úÖ Mahsulot saqlandi: {0} ({1})",
            ["NotStorekeeper"] = "‚õîÔ∏è Siz omborchi emassiz.",
            ["NoWarehouseAssigned"] = "‚õîÔ∏è Sizga ombor biriktirilmagan."
        },
        ["ru"] = new()
        {
            ["Welcome"] = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫:",
            ["LanguageSelected"] = "–Ø–∑—ã–∫ –≤—ã–±—Ä–∞–Ω: –†—É—Å—Å–∫–∏–π",
            ["WaitAdmin"] = "–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –ø–æ–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞–∑–Ω–∞—á–∏—Ç –≤–∞–º —Ä–æ–ª—å.",
            ["WelcomeBack"] = "–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {0}. –í–≤–µ–¥–∏—Ç–µ /admin –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –ø–∞–Ω–µ–ª—å.",
            ["PasswordSet"] = "–ü–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –í—ã —Ç–µ–ø–µ—Ä—å –ì–ª–∞–≤–Ω—ã–π –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä. –í–≤–µ–¥–∏—Ç–µ /admin –¥–ª—è –¥–æ—Å—Ç—É–ø–∞.",
            ["EnterPassword"] = "–°–∏—Å—Ç–µ–º–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:",
            ["AccessDenied"] = "–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ü–∞–Ω–µ–ª–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.",
            ["NoPending"] = "–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ–∂–∏–¥–∞—é—â–∏—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.",
            ["SelectUser"] = "–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",
            ["SelectRole"] = "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID {0}:",
            ["RoleUpdated"] = "–†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ {0}.",
            ["YourRoleUpdated"] = "–í–∞—à–∞ —Ä–æ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {0}",
            ["ChangePass"] = "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:",
            ["PassChanged"] = "–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω.",
            ["Action_Deputy"] = "–°–¥–µ–ª–∞—Ç—å –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª–µ–º",
            ["Action_Storekeeper"] = "–°–¥–µ–ª–∞—Ç—å –∫–ª–∞–¥–æ–≤—â–∏–∫–æ–º",
            ["Action_Admin"] = "–°–¥–µ–ª–∞—Ç—å –∞–¥–º–∏–Ω–æ–º",
            ["Btn_Notifications"] = "–û–∂–∏–¥–∞—é—â–∏–µ ({0})",
            ["Btn_ChangePass"] = "–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å",
            ["Btn_AddWarehouse"] = "–î–æ–±–∞–≤–∏—Ç—å —Å–∫–ª–∞–¥",
            ["Btn_WarehouseList"] = "–°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤",
            ["Btn_AddCustomer"] = "–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞",
            ["Btn_CustomerList"] = "–°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤",
            ["EnterWarehouseName"] = "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞:",
            ["WarehouseAdded"] = "–°–∫–ª–∞–¥ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω: {0}",
            ["WarehouseDuplicate"] = "‚ùå –°–∫–ª–∞–¥ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {0}",
            ["WarehouseListTitle"] = "üì¶ –°–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤:",
            ["EnterCustomerName"] = "–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞:",
            ["CustomerAdded"] = "–ö–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω: {0}",
            ["CustomerDuplicate"] = "‚ùå –ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {0}",
            ["CustomerListTitle"] = "üë• –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤:",
            ["SelectWarehouse"] = "–ö –∫–∞–∫–æ–º—É —Å–∫–ª–∞–¥—É –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?",
            ["UserAssignedToWarehouse"] = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –∫ —Å–∫–ª–∞–¥—É {0}.",
            ["NoWarehouses"] = "–°–∫–ª–∞–¥–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç. –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ —Å–∫–ª–∞–¥.",
            ["NoCustomers"] = "–ö–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç. –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞.",
            ["Menu_Warehouses"] = "üì¶ –°–∫–ª–∞–¥—ã",
            ["Menu_Customers"] = "üë• –ö–ª–∏–µ–Ω—Ç—ã",
            ["Btn_Add"] = "–î–æ–±–∞–≤–∏—Ç—å",
            ["Btn_List"] = "–°–ø–∏—Å–æ–∫",
            ["Btn_Back"] = "üîô –ù–∞–∑–∞–¥",
            ["Title_ManageWarehouses"] = "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏:",
            ["Title_ManageCustomers"] = "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏:",
            ["EnterOldPassword"] = "üîí –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å:",
            ["OldPasswordIncorrect"] = "‚ùå –°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–µ–Ω!",
            ["NewPasswordSameAsOld"] = "‚ùå –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º!",
            ["NewPasswordSameAsOld"] = "‚ùå –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º!",
            ["Btn_Close"] = "‚ùå –ó–∞–∫—Ä—ã—Ç—å",
            // Storekeeper
            ["WarehouseTitle"] = "üè† –°–∫–ª–∞–¥: {0}",
            ["Btn_AddProduct"] = "‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç",
            ["EnterProductName"] = "üìù –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞:",
            ["SelectUnit"] = "‚öñÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –µ–¥–∏–Ω–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏—è:",
            ["Unit_Kg"] = "–ö–≥",
            ["Unit_Ton"] = "–¢–æ–Ω–Ω–∞",
            ["Unit_Meter"] = "–ú–µ—Ç—Ä",
            ["Unit_Piece"] = "–®—Ç",
            ["Unit_Liter"] = "–õ–∏—Ç—Ä",
            ["ProductSaved"] = "‚úÖ –ü—Ä–æ–¥—É–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω: {0} ({1})",
            ["NotStorekeeper"] = "‚õîÔ∏è –í—ã –Ω–µ –∫–ª–∞–¥–æ–≤—â–∏–∫.",
            ["NoWarehouseAssigned"] = "‚õîÔ∏è –í–∞–º –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω —Å–∫–ª–∞–¥."
        },
        ["en"] = new()
        {
            ["Welcome"] = "Welcome! Please select your language:",
            ["LanguageSelected"] = "Language selected: English",
            ["WaitAdmin"] = "Please wait for an admin to assign you a role.",
            ["WelcomeBack"] = "Welcome back, {0}. Type /admin for panel.",
            ["PasswordSet"] = "Password set. You are now the Main Admin. Type /admin to access the panel.",
            ["EnterPassword"] = "System not initialized. Please enter a new Admin Password:",
            ["AccessDenied"] = "You do not have permission to access the Admin Panel.",
            ["NoPending"] = "No pending users found.",
            ["SelectUser"] = "Select a user to manage:",
            ["SelectRole"] = "Select role for User ID {0}:",
            ["RoleUpdated"] = "User role updated to {0}.",
            ["YourRoleUpdated"] = "Your role has been updated to: {0}",
            ["ChangePass"] = "Enter new password:",
            ["PassChanged"] = "Password changed successfully.",
            ["Action_Deputy"] = "Make Deputy",
            ["Action_Storekeeper"] = "Make Storekeeper",
            ["Action_Admin"] = "Make Admin",
            ["Btn_Notifications"] = "Waiting ({0})",
            ["Btn_ChangePass"] = "Change Password",
            ["Btn_AddWarehouse"] = "Add Warehouse",
            ["Btn_WarehouseList"] = "Warehouse List",
            ["Btn_AddCustomer"] = "Add Customer",
            ["Btn_CustomerList"] = "Customer List",
            ["EnterWarehouseName"] = "Enter warehouse name:",
            ["WarehouseAdded"] = "Warehouse added successfully: {0}",
            ["WarehouseDuplicate"] = "‚ùå A warehouse with this name already exists: {0}",
            ["WarehouseListTitle"] = "üì¶ Warehouse List:",
            ["EnterCustomerName"] = "Enter customer name:",
            ["CustomerAdded"] = "Customer added successfully: {0}",
            ["CustomerDuplicate"] = "‚ùå A customer with this name already exists: {0}",
            ["CustomerListTitle"] = "üë• Customer List:",
            ["SelectWarehouse"] = "Select warehouse to assign:",
            ["UserAssignedToWarehouse"] = "User assigned to warehouse {0}.",
            ["NoWarehouses"] = "No warehouses found. Add a warehouse first.",
            ["NoCustomers"] = "No customers found. Add a customer first.",
            ["Menu_Warehouses"] = "üì¶ Warehouses",
            ["Menu_Customers"] = "üë• Customers",
            ["Btn_Add"] = "Add",
            ["Btn_List"] = "List",
            ["Btn_Back"] = "üîô Back",
            ["Title_ManageWarehouses"] = "Manage Warehouses:",
            ["Title_ManageCustomers"] = "Manage Customers:",
            ["EnterOldPassword"] = "üîí Please enter your old password first:",
            ["OldPasswordIncorrect"] = "‚ùå Old password incorrect!",
            ["NewPasswordSameAsOld"] = "‚ùå New password cannot be the same as the old one!",
            ["NewPasswordSameAsOld"] = "‚ùå New password cannot be the same as the old one!",
            ["Btn_Close"] = "‚ùå Close",
            // Storekeeper
            ["WarehouseTitle"] = "üè† Warehouse: {0}",
            ["Btn_AddProduct"] = "‚ûï Add Product",
            ["EnterProductName"] = "üìù Enter product name:",
            ["SelectUnit"] = "‚öñÔ∏è Select unit of measurement:",
            ["Unit_Kg"] = "Kg",
            ["Unit_Ton"] = "Ton",
            ["Unit_Meter"] = "Meter",
            ["Unit_Piece"] = "Pc",
            ["Unit_Liter"] = "Liter",
            ["ProductSaved"] = "‚úÖ Product saved: {0} ({1})",
            ["NotStorekeeper"] = "‚õîÔ∏è You are not a storekeeper.",
            ["NoWarehouseAssigned"] = "‚õîÔ∏è No warehouse assigned to you."
        }
    };

    public string Get(string key, string langCode, params object[] args)
    {
        // Default to 'uz' if not found
        if (string.IsNullOrEmpty(langCode)) langCode = "uz";
        
        if (!_resources.ContainsKey(langCode)) langCode = "uz";

        var dict = _resources[langCode];
        if (dict.TryGetValue(key, out var value))
        {
            return string.Format(value, args);
        }
        return key; // Return key if translation missing
    }
}
